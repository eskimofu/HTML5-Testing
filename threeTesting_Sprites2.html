<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>sprites2</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<meta name="viewport" content="width=device-width">


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.2.min.js"><\/script>')</script>
    <script src="js/three.r51.min.js"></script>
    <script src="js/eskylibTHREE_V02.js"></script>

</head>

<body style="background:#111111;">
 
    <div class="container">

        <div id="viewport-container"></div>

        <script type="text/javascript">

            var controls;



            $(document).ready(function() {
                setupEskylib("#viewport-container", 800, 600, drawFrame, logicFrame, 0xFFFFFF);
                setupScene();
                startDrawing();
            });            



            // setup the scene
            function setupScene() {

                // CONTROLS

                controls = new THREE.FirstPersonControls(camera);

                controls.movementSpeed = 5;
                controls.lookSpeed = 0.005;
                controls.noFly = false;
                controls.lookVertical = true;
                controls.activeLook = false;

                if(controls == undefined) {
                    console.log("Controls error!!");
                }


                // AMBIENT LIGHT

                var ambientLight = new THREE.AmbientLight(0xFFFFFF);
                scene.add(ambientLight);


                 // CAMERA 

                camera.position.x = 0;
                camera.position.y = 0;
                camera.position.z = 300;
            }



            // render the frame
            function drawFrame() {
                controls.update(0.2);
                renderer.render(scene, camera);
            }



             // do frame logic
            function logicFrame() {
                if(isPlaying) {

                    if(mouseClicked) {
                        controls.activeLook = true;
                    } 
                    else {
                        controls.activeLook = false;
                    }
                }
            }

        </script>

    </div> <!-- /container -->

</body>
</html>
